<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Rasa文档指南(11), 呆小症日记">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Rasa文档指南(11) | 呆小症日记</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="呆小症日记" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">呆小症日记</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">呆小症日记</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/6.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Rasa文档指南(11)</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Rasa/">
                                <span class="chip bg-color">Rasa</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/nlp/" class="post-category">
                                nlp
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-10-04
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <ul>
<li><a href="#">关于</a></li>
<li><a href="#">仅使用NLU</a></li>
<li><a href="#">训练数据格式</a></li>
<li><a href="#">语言支援</a></li>
<li><a href="#">选择管道</a></li>
<li><a href="#">组件</a></li>
<li><a href="#">实体提取</a></li>
</ul>
<h1 id="NLU"><a href="#NLU" class="headerlink" title="NLU"></a>NLU</h1><h2 id="关于"><a href="#关于" class="headerlink" title="关于"></a>关于</h2><h3 id="Rasa-NLU：聊天机器人和AI助手的语言理解"><a href="#Rasa-NLU：聊天机器人和AI助手的语言理解" class="headerlink" title="Rasa NLU：聊天机器人和AI助手的语言理解"></a>Rasa NLU：聊天机器人和AI助手的语言理解</h3><p>Rasa NLU是一种开源自然语言处理工具，用于聊天机器人中的意图分类，响应检索和实体提取。例如，像这样的句子</p>
<pre><code>"I am looking for a Mexican restaurant in the center of town"</code></pre>
<p>并返回结构化数据，例如</p>
<pre><code>&amp;#123;
  "intent": "search_restaurant",
  "entities": &amp;#123;
    "cuisine" : "Mexican",
    "location" : "center"
  &amp;#125;
&amp;#125;</code></pre>
<p>如果要单独使用Rasa NLU，请参阅<a href="#">仅使用NLU</a>。</p>
<h2 id="仅使用NLU"><a href="#仅使用NLU" class="headerlink" title="仅使用NLU"></a>仅使用NLU</h2><p>如果您只想将Rasa用作NLU组件，则可以！</p>
<h3 id="训练仅NLU模型"><a href="#训练仅NLU模型" class="headerlink" title="训练仅NLU模型"></a>训练仅NLU模型</h3><p>要仅训练NLU模型，请运行：</p>
<pre><code>rasa train nlu</code></pre>
<p>这将在<code>data/</code>目录中查找NLU训练数据文件，并将训练后的模型保存在<code>models/</code>目录中。模型的名称将以开头<code>nlu-</code>。</p>
<h3 id="测试在命令行上您的NLU模型"><a href="#测试在命令行上您的NLU模型" class="headerlink" title="测试在命令行上您的NLU模型"></a>测试在命令行上您的NLU模型</h3><p>要在命令行上试用您的NLU模型，请使用以下命令：<code>rasa shell nlu</code></p>
<pre><code>rasa shell nlu</code></pre>
<p>这将启动rasa shell，并要求您输入消息进行测试。您可以继续输入任意多的邮件。</p>
<p>另外，您可以省略<code>nlu</code>参数并直接传入仅nlu-model：</p>
<pre><code>rasa shell -m models/nlu-20190515-144445.tar.gz</code></pre>
<h3 id="运行NLU服务器"><a href="#运行NLU服务器" class="headerlink" title="运行NLU服务器"></a>运行NLU服务器</h3><p>要使用您的NLU模型启动服务器，请在运行时传递模型名称：</p>
<pre><code>rasa run --enable-api -m models/nlu-20190515-144445.tar.gz</code></pre>
<p>然后，您可以使用<code>/model/parse</code>端点从模型中请求预测。为此，请运行：</p>
<pre><code>curl localhost:5005/model/parse -d '&amp;#123;"text":"hello"&amp;#125;'</code></pre>
<h2 id="训练数据格式"><a href="#训练数据格式" class="headerlink" title="训练数据格式"></a>训练数据格式</h2><h3 id="数据格式"><a href="#数据格式" class="headerlink" title="数据格式"></a>数据格式</h3><p>您可以将培训数据作为Markdown或JSON，单个文件或包含多个文件的目录提供。请注意，Markdown通常更易于使用。</p>
<h3 id="Markdown格式"><a href="#Markdown格式" class="headerlink" title="Markdown格式"></a>Markdown格式</h3><p>Markdown是人类最容易阅读和书写的Rasa NLU格式。示例使用无序列表语法列出，例如minus <code>-</code>，星号<code>*</code>或plus <code>+</code>。示例按意向进行分组，并且实体通过例如或使用以下语法注释为Markdown链接。使用后一种语法，您还可以为实体分配同义词，角色或组，例如 。关键字，和在此符号中是可选的。要了解标签及其用途，请参阅“<a href="#">实体角色和组”部分</a>。<code>[&lt;entity text&gt;](&lt;entity name&gt;)``[&lt;entity-text&gt;]{"entity": "&lt;entity name&gt;"}``[&lt;entity-text&gt;]{"entity": "&lt;entity name&gt;", "role": "&lt;role name&gt;", "group": "&lt;group name&gt;", "value": "&lt;entity synonym&gt;"}``role``group``value``role``group</code></p>
<pre class=" language-markdown"><code class="language-markdown"><span class="token title important"><span class="token punctuation">##</span> intent:check_balance</span>
<span class="token list punctuation">-</span> what is my balance <span class="token comment" spellcheck="true">&lt;!-- no entity --></span>
<span class="token list punctuation">-</span> how much do I have on my <span class="token url">[savings](source_account)</span> <span class="token comment" spellcheck="true">&lt;!-- entity "source_account" has value "savings" --></span>
<span class="token list punctuation">-</span> how much do I have on my [savings account]<span class="token entity" title="&#123;">&amp;#123;</span>"entity": "source_account", "value": "savings"<span class="token entity" title="&#125;">&amp;#125;</span> <span class="token comment" spellcheck="true">&lt;!-- synonyms, method 1--></span>
<span class="token list punctuation">-</span> Could I pay in <span class="token url">[yen](currency)</span>?  <span class="token comment" spellcheck="true">&lt;!-- entity matched by lookup table --></span>

<span class="token title important"><span class="token punctuation">##</span> intent:greet</span>
<span class="token list punctuation">-</span> hey
<span class="token list punctuation">-</span> hello

<span class="token title important"><span class="token punctuation">##</span> synonym:savings   </span><span class="token comment" spellcheck="true">&lt;!-- synonyms, method 2 --></span>
<span class="token list punctuation">-</span> pink pig

<span class="token title important"><span class="token punctuation">##</span> regex:zipcode</span>
<span class="token list punctuation">-</span> [0-9]<span class="token entity" title="&#123;">&amp;#123;</span>5<span class="token entity" title="&#125;">&amp;#125;</span>

<span class="token title important"><span class="token punctuation">##</span> lookup:additional_currencies  </span><span class="token comment" spellcheck="true">&lt;!-- specify lookup tables in an external file --></span>
path/to/currencies.txt</code></pre>
<p>Rasa NLU的培训数据分为以下几个部分：</p>
<ul>
<li>常见的例子</li>
<li>同义词</li>
<li>正则表达式功能和</li>
<li>查找表</li>
</ul>
<p>尽管通用示例是唯一必需的部分，但包括其他示例将帮助NLU模型以更少的示例来学习领域，并帮助其对自己的预测更有信心。</p>
<p>同义词会将提取的实体映射到相同的名称，例如，将“我的储蓄帐户”映射为简单的“储蓄”。但是，这仅<em>在</em>提取实体<em>之后</em>才发生，因此您需要提供带有同义词的示例，以便Rasa可以学习将其提取。</p>
<p>查找表可以指定为包含换行符分隔的单词或短语的纯文本文件。加载训练数据后，这些文件将用于生成不区分大小写的正则表达式模式，该模式会添加到正则表达式功能中。</p>
<blockquote>
<p>注意</p>
<p>这里的共同主题是，共同的示例，正则表达式功能和查找表仅通过在训练过程中为机器学习算法提供其他功能，来充当最终NLU模型的线索。因此，不能认为只有一个示例足以使模型在该示例的所有变体中可靠地标识意图和/或实体。</p>
</blockquote>
<blockquote>
<p>注意</p>
<p><code>/</code>符号保留为分隔符，用于将检索意图与响应文本标识符分开。确保不要以您的意图的名义使用它。</p>
</blockquote>
<blockquote>
<p>警告</p>
<p>不推荐使用用于指定同义词的同义词格式。请使用新格式。<code>[savings account](source_account:savings)``[savings account]{"entity": "source_account", "value": "savings"}</code></p>
<p>要更新您的训练数据文件，请在您选择的终端上执行以下命令： 执行上述命令后，您的NLU训练数据文件将包含新的训练数据格式。根据您的操作系统，您可能需要更新sed命令的语法。<code>sed -i -E 's/\[([^)]+)\]\(([^)]+):([^)]+)\)/[\1]{"entity": "\2", "value": "\3"}/g' &lt;nlu training data file&gt;</code></p>
</blockquote>
<h3 id="JSON格式"><a href="#JSON格式" class="headerlink" title="JSON格式"></a>JSON格式</h3><p>JSON格式由被称为顶层对象的<code>rasa_nlu_data</code>，与键 <code>common_examples</code>，<code>entity_synonyms</code>和<code>regex_features</code>。最重要的是<code>common_examples</code>。</p>
<pre class=" language-json"><code class="language-json">&amp;#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token property">"rasa_nlu_data"</span><span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token property">"common_examples"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"regex_features"</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"lookup_tables"</span>  <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"entity_synonyms"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    &amp;#<span class="token number">125</span><span class="token punctuation">;</span>
&amp;#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
<p>本<code>common_examples</code>是用来训练模型。您应该将所有训练示例放在<code>common_examples</code>数组中。正则表达式功能是一种工具，可帮助分类器检测实体或意图并提高性能。</p>
<h3 id="提高意图分类和实体识别"><a href="#提高意图分类和实体识别" class="headerlink" title="提高意图分类和实体识别"></a>提高意图分类和实体识别</h3><h4 id="常见的例子"><a href="#常见的例子" class="headerlink" title="常见的例子"></a>常见的例子</h4><p>常见的例子有三个组成部分：<code>text</code>，<code>intent</code>和<code>entities</code>。前两个是字符串，最后一个是数组。</p>
<blockquote>
<ul>
<li>该<em>文本</em>是用户消息[需要]</li>
<li>的<em>意图</em>是，应与文字相关的意图[可选]</li>
<li>该<em>实体</em>是需要被识别的文本的特定部分[可选]</li>
</ul>
</blockquote>
<p>实体用<code>start</code>和<code>end</code>值指定，它们一起构成了要应用于字符串的范围，例如，在下面的示例中，使用，然后是 。实体可以跨越多个单词，实际上，该字段不必与示例中的子字符串完全对应。这样，您就可以将同义词或拼写错误映射到同一个。<code>text="show me chinese restaurants"``text[8:15] == 'chinese'``value``value</code></p>
<pre><code>## intent:restaurant_search
- show me [chinese](cuisine) restaurants</code></pre>
<h4 id="正则表达式功能"><a href="#正则表达式功能" class="headerlink" title="正则表达式功能"></a>正则表达式功能</h4><p>正则表达式可用于支持意图分类和实体提取。例如，如果您的实体具有确定性结构（例如邮政编码或电子邮件地址），则可以使用正则表达式来简化对该实体的检测。对于邮政编码示例，它可能如下所示：</p>
<pre class=" language-reStructuredText"><code class="language-reStructuredText">## regex:zipcode
- [0-9]&#123;5&#125;

## regex:greet
- hey[^\\s]*</code></pre>
<p>名称并没有定义实体或意图，它只是人类可读的描述，您可以记住该正则表达式的用途，并且是相应模式特征的标题。如上例所示，您还可以使用正则表达式功能来改善意图分类性能。</p>
<p>尝试以使其与尽可能少的单词匹配的方式创建正则表达式。例如，使用<code>hey[^\s]*</code> 而不是<code>hey.*</code>，因为后面的可能匹配整个消息，而第一个可能只匹配一个单词。</p>
<p>该<code>CRFEntityExtractor</code>组件当前仅支持用于实体提取的正则表达式功能！因此，其他实体提取器（喜欢<code>MitieEntityExtractor</code>或<code>SpacyEntityExtractor</code>不使用生成的特征），并且它们的存在不会提高这些提取器的实体识别度。当前，所有意图分类器都使用可用的正则表达式功能。</p>
<blockquote>
<p>注意</p>
<p>正则表达式功能无法定义实体或意图！它们仅提供模式来帮助分类器识别实体和相关意图。因此，您仍然需要在训练数据中提供意图和实体示例！</p>
</blockquote>
<h4 id="查找表"><a href="#查找表" class="headerlink" title="查找表"></a>查找表</h4><p>查找表提供了一种方便的方式来提供实体示例的列表。提供的查找表文件必须采用换行符分隔的格式。例如，<code>data/test/lookup_tables/plates.txt</code>可能包含：</p>
<pre class=" language-markdown"><code class="language-markdown">tacos
beef
mapo tofu
burrito
lettuce wrap</code></pre>
<p>并可以按如下所示加载和使用：</p>
<pre class=" language-markdown"><code class="language-markdown"><span class="token title important"><span class="token punctuation">##</span> lookup:plates</span>
data/test/lookup_tables/plates.txt

<span class="token title important"><span class="token punctuation">##</span> intent:food_request</span>
<span class="token list punctuation">-</span> I'd like beef <span class="token url">[tacos](plates)</span> and a <span class="token url">[burrito](plates)</span>
<span class="token list punctuation">-</span> How about some <span class="token url">[mapo tofu](plates)</span></code></pre>
<p>在训练数据中提供查找表时，内容将组合成一个大写，不区分大小写的正则表达式模式，该模式在训练示例中查找完全匹配的内容。这些正则表达式可匹配多个令牌，因此 将匹配为。这些正则表达式的处理方式与直接在训练数据中指定的常规正则表达式样式相同。<code>lettuce wrap``get me a lettuce wrap ASAP``[0 0 0 1 1 0]</code></p>
<blockquote>
<p>注意</p>
<p>为了使查询表有效，您的训练数据中必须有一些匹配示例。否则，模型将不会学习使用查找表匹配功能。</p>
</blockquote>
<blockquote>
<p>警告</p>
<p>将数据添加到查找表时，必须小心。例如，如果表中存在误报或其他杂音，则可能会损害性能。因此，请确保您的查询表包含干净的数据。</p>
</blockquote>
<h3 id="数据标准化"><a href="#数据标准化" class="headerlink" title="数据标准化"></a>数据标准化</h3><h3 id="实体别名"><a href="#实体别名" class="headerlink" title="实体别名"></a>实体别名</h3><p>如果您将实体定义为具有相同的值，则它们将被视为同义词。这是一个例子：</p>
<pre><code>## intent:search
- in the center of [NYC]&amp;#123;"entity": "city", "value": "New York City"&amp;#125;
- in the centre of [New York City](city)</code></pre>
<p>如您所见，即使第一个示例中的文本为，实体在两个示例中均<code>city</code>具有值。通过将value属性定义为与实体的开始索引和结束索引之间的文本中找到的值不同，可以定义同义词。每当找到相同的文本时，该值将使用同义词代替消息中的实际文本。<code>New York City``NYC</code></p>
<p>要使用训练数据中定义的同义词，您需要确保管道包含 <code>EntitySynonymMapper</code>组件（请参阅<a href="#">Components</a>）。</p>
<p>另外，您可以添加“ entity_synonyms”数组来为一个实体值定义多个同义词。这是一个例子：</p>
<pre class=" language-markdown"><code class="language-markdown"><span class="token title important"><span class="token punctuation">##</span> synonym:New York City</span>
<span class="token list punctuation">-</span> NYC
<span class="token list punctuation">-</span> nyc
<span class="token list punctuation">-</span> the big apple</code></pre>
<blockquote>
<p>注意</p>
<p>请注意，使用上述格式添加同义词不会改善这些实体的模型分类。 <strong>在将实体替换为同义词值之前，必须对其进行正确分类。</strong></p>
</blockquote>
<h2 id="语言支持"><a href="#语言支持" class="headerlink" title="语言支持"></a>语言支持</h2><p>您可以使用Rasa以所需的任何语言构建助手！Rasa的 <code>supervised_embeddings</code>管道可以用于<strong>任何语言的</strong>训练数据。该管道使用您提供的数据从头开始创建单词嵌入。</p>
<p>此外，我们还支持预训练的单词嵌入，例如spaCy。有关哪种管道最适合您的用例的信息，请查看<a href="#">选择管道</a>。</p>
<h3 id="在任何语言培训模型"><a href="#在任何语言培训模型" class="headerlink" title="在任何语言培训模型"></a>在任何语言培训模型</h3><p>Rasa的<code>supervised_embeddings</code>管道可用于以任何语言训练模型，因为它使用您自己的训练数据来创建自定义单词嵌入。这意味着任何特定单词的向量表示形式都将取决于其与训练数据中其他单词的关系。这种定制还意味着，该管道非常适合依赖特定于域的数据的用例，例如那些需要提取特定产品名称的用例。</p>
<p>要使用您的首选语言训练Rasa模型，请通过<a href="#">此处</a>的说明<code>supervised_embeddings</code>将管道定义 为您<code>config.yml</code>或其他配置文件中的管道。</p>
<p>定义<code>supervised_embeddings</code>处理管道并 以您选择的语言生成一些<a href="#">NLU训练数据后</a>，请使用训练模型。训练完成后，您可以测试模型的语言技能。通过以下方式查看模型如何解释不同的输入消息：<code>rasa train nlu</code></p>
<pre class=" language-shell"><code class="language-shell">rasa shell nlu</code></pre>
<blockquote>
<p>注意</p>
<p>更重要的是，从头开始训练单词嵌入时，更多的训练数据将导致更好的模型！如果您发现模型无法识别输入，请尝试使用更多例句进行训练。</p>
</blockquote>
<h3 id="预训练词向量"><a href="#预训练词向量" class="headerlink" title="预训练词向量"></a>预训练词向量</h3><p>如果可以用您的语言找到它们，则经过训练的单词向量是从较少的数据入手的好方法，因为单词向量是根据大量数据（例如Wikipedia）进行训练的。</p>
<h4 id="spaCy"><a href="#spaCy" class="headerlink" title="spaCy"></a>spaCy</h4><p>通过<code>pretrained_embeddings_spacy</code> <a href="#">管道</a>，您可以使用spaCy的 <a target="_blank" rel="noopener" href="https://spacy.io/usage/models#languages">预训练语言模型</a>或加载fastText向量，这些向量可用于<a target="_blank" rel="noopener" href="https://github.com/facebookresearch/fastText/blob/master/docs/crawl-vectors.md">数百种语言</a>。如果您想将找到的自定义模型合并到spaCy中，请查看其有关<a target="_blank" rel="noopener" href="https://spacy.io/docs/usage/adding-languages">添加语言</a>的页面 。如文档中所述，您需要注册您的语言模型并将其链接到语言标识符，这将允许Rasa通过传递语言标识符作为<code>language</code>选项来加载和使用您的新语言。</p>
<h4 id="MITIE"><a href="#MITIE" class="headerlink" title="MITIE"></a>MITIE</h4><p>您还可以使用<a href="#">MITIE</a>从语言语料库中预先训练自己的单词向量。为此：</p>
<ol>
<li>获得干净的语言语料库（Wikipedia转储有效）作为一组文本文件。</li>
<li>在语料库上构建并运行<a href="#">MITIE Wordrep工具</a>。这可能需要几个小时/天，具体取决于您的数据集和工作站。您需要大约128GB的RAM才能运行wordrep –是的，这很多：尝试扩展交换。</li>
<li>将new的路径设置<code>total_word_feature_extractor.dat</code>为<a href="#">配置中</a>的<code>model</code>参数 。</li>
</ol>
<p>有关如何训练MITIE单词向量的完整示例，请查看 <a href="#">此博客文章</a> ，<a href="#">该文章</a>是从中文维基百科转储中创建MITIE模型的。</p>
<h2 id="选择一个管道"><a href="#选择一个管道" class="headerlink" title="选择一个管道"></a>选择一个管道</h2><p>在Rasa Open Source中，传入消息由一系列组件处理。这些组件将<code>pipeline</code>在your中定义的所谓处理中一个接一个地执行<code>config.yml</code>。选择NLU管道可让您自定义模型并在数据集上进行微调。</p>
<blockquote>
<p>注意</p>
<p>使用Rasa 1.8.0，我们更新了一些组件，并弃用了所有现有管道模板。但是，<strong>任何旧术语仍将表现出与以前相同的方式</strong>！</p>
</blockquote>
<blockquote>
<p>警告</p>
<p>我们不推荐使用所有现有管道模板（例如<code>supervised_embeddings</code>）。请在配置文件中列出您要直接使用的所有组件。有关更多信息，请参阅<a href="#">如何</a>为建议的启动配置<a href="#">选择管道</a>，或参阅 <a href="#">管道模板（不</a>建议 <a href="#">使用）</a>。</p>
</blockquote>
<h3 id="如何选择一个管道"><a href="#如何选择一个管道" class="headerlink" title="如何选择一个管道"></a>如何选择一个管道</h3><h4 id="简短答案"><a href="#简短答案" class="headerlink" title="简短答案"></a>简短答案</h4><p>如果您的培训数据是英文的，那么下面的管道是一个很好的起点：</p>
<pre class=" language-markdown"><code class="language-markdown">language: "en"

pipeline:
  <span class="token list punctuation">-</span> name: ConveRTTokenizer
  <span class="token list punctuation">-</span> name: ConveRTFeaturizer
  <span class="token list punctuation">-</span> name: RegexFeaturizer
  <span class="token list punctuation">-</span> name: LexicalSyntacticFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
<span class="token code keyword">    analyzer: "char_wb"</span>
<span class="token code keyword">    min_ngram: 1</span>
<span class="token code keyword">    max_ngram: 4</span>
  <span class="token list punctuation">-</span> name: DIETClassifier
<span class="token code keyword">    epochs: 100</span>
  <span class="token list punctuation">-</span> name: EntitySynonymMapper
  <span class="token list punctuation">-</span> name: ResponseSelector
<span class="token code keyword">    epochs: 100</span></code></pre>
<p>如果您的训练数据不是英语，请从以下管道开始：</p>
<pre class=" language-markdown"><code class="language-markdown">language: "fr"  # your two-letter language code

pipeline:
  <span class="token list punctuation">-</span> name: WhitespaceTokenizer
  <span class="token list punctuation">-</span> name: RegexFeaturizer
  <span class="token list punctuation">-</span> name: LexicalSyntacticFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
<span class="token code keyword">    analyzer: "char_wb"</span>
<span class="token code keyword">    min_ngram: 1</span>
<span class="token code keyword">    max_ngram: 4</span>
  <span class="token list punctuation">-</span> name: DIETClassifier
<span class="token code keyword">    epochs: 100</span>
  <span class="token list punctuation">-</span> name: EntitySynonymMapper
  <span class="token list punctuation">-</span> name: ResponseSelector
<span class="token code keyword">    epochs: 100</span></code></pre>
<h4 id="更长回答"><a href="#更长回答" class="headerlink" title="更长回答"></a>更长回答</h4><p>如果您的培训数据是英语，我们建议使用以下管道：</p>
<blockquote>
<pre><code>language: "en"

pipeline:
  - name: ConveRTTokenizer
  - name: ConveRTFeaturizer
  - name: RegexFeaturizer
  - name: LexicalSyntacticFeaturizer
  - name: CountVectorsFeaturizer
  - name: CountVectorsFeaturizer
    analyzer: "char_wb"
    min_ngram: 1
    max_ngram: 4
  - name: DIETClassifier
    epochs: 100
  - name: EntitySynonymMapper
  - name: ResponseSelector
    epochs: 100</code></pre>
</blockquote>
<p>管道包含<a href="#">ConveRTFeaturizer</a>，它提供用户话语的预训练词嵌入。预先训练的词嵌入非常有用，因为它们已经编码了某种语言知识。例如，如果您在训练数据中有一个类似“我想购买苹果”的句子，并且要求Rasa预测“获取梨”的意图，那么您的模型已经知道“苹果”和“豌豆”是非常相似。如果您没有足够的培训数据，这将特别有用。<a href="#">ConveRTFeaturizer</a>的优点是它不会单独处理用户消息的每个单词，而是为整个句子创建上下文向量表示。但是，<code>ConveRT</code>仅提供英语。</p>
<p>如果您的训练数据不是英语，但您仍想使用预先训练的词嵌入，则建议使用以下管道：</p>
<pre class=" language-markdown"><code class="language-markdown">language: "fr"  # your two-letter language code

pipeline:
  <span class="token list punctuation">-</span> name: SpacyNLP
  <span class="token list punctuation">-</span> name: SpacyTokenizer
  <span class="token list punctuation">-</span> name: SpacyFeaturizer
  <span class="token list punctuation">-</span> name: RegexFeaturizer
  <span class="token list punctuation">-</span> name: LexicalSyntacticFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
<span class="token code keyword">    analyzer: "char_wb"</span>
<span class="token code keyword">    min_ngram: 1</span>
<span class="token code keyword">    max_ngram: 4</span>
  <span class="token list punctuation">-</span> name: DIETClassifier
<span class="token code keyword">    epochs: 100</span>
  <span class="token list punctuation">-</span> name: EntitySynonymMapper
  <span class="token list punctuation">-</span> name: ResponseSelector
<span class="token code keyword">    epochs: 100</span></code></pre>
<p>它使用<a href="#">SpacyFeaturizer</a>而不是<a href="#">ConveRTFeaturizer</a>。 <a href="#">SpacyFeaturizer</a>以多种不同的语言提供来自GloVe或fastText的预训练词嵌入（请参阅<a href="#">预训练词向量</a>）。</p>
<p>如果您在管道中未使用任何预训练的单词嵌入，则无需绑定到特定语言，并且可以将模型训练为更特定于领域。如果您的语言没有单词嵌入，或者您具有非常特定于域的术语，我们建议使用以下管道：</p>
<pre class=" language-markdown"><code class="language-markdown">language: "fr"  # your two-letter language code

pipeline:
  <span class="token list punctuation">-</span> name: WhitespaceTokenizer
  <span class="token list punctuation">-</span> name: RegexFeaturizer
  <span class="token list punctuation">-</span> name: LexicalSyntacticFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
<span class="token code keyword">    analyzer: "char_wb"</span>
<span class="token code keyword">    min_ngram: 1</span>
<span class="token code keyword">    max_ngram: 4</span>
  <span class="token list punctuation">-</span> name: DIETClassifier
<span class="token code keyword">    epochs: 100</span>
  <span class="token list punctuation">-</span> name: EntitySynonymMapper
  <span class="token list punctuation">-</span> name: ResponseSelector
<span class="token code keyword">    epochs: 100</span></code></pre>
<blockquote>
<p>注意</p>
<p>我们鼓励每个人通过列出要使用的组件的名称来定义自己的管道。您可以在<a href="#">Components中</a>找到每个组件的详细信息。如果要在管道中使用自定义组件，请参阅“<a href="#">自定义NLU组件”</a>。</p>
</blockquote>
<h3 id="选择合适的组件"><a href="#选择合适的组件" class="headerlink" title="选择合适的组件"></a>选择合适的组件</h3><p>有用于实体提取，意图分类，响应选择，预处理等的组件。您可以在“<a href="#">组件”</a>页面上了解有关任何特定组件的更多信息。如果要添加自己的组件（例如进行拼写检查或进行情感分析），请签出“<a href="#">自定义NLU组件”</a>。</p>
<p>管道通常包含三个主要部分：</p>
<ul>
<li><a href="#">Tokenization</a></li>
<li><a href="#">Featurization</a></li>
<li><a href="#">实体识别/意图分类/响应选择器</a></li>
</ul>
<h4 id="Tokenization"><a href="#Tokenization" class="headerlink" title="Tokenization"></a>Tokenization</h4><p>对于英语输入的标记化，我们建议使用<a href="#">ConveRTTokenizer</a>。您可以使用<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#whitespacetokenizer">WhitespaceTokenizer</a>处理其他用空格标记的（用空格分隔的单词）语言。如果您的语言不是用空格标记的，则应使用其他标记器。我们支持许多不同的<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#tokenizers">令牌生成器</a>，或者您可以创建自己的<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/api/custom-nlu-components/#custom-nlu-components">自定义令牌生成器</a>。</p>
<blockquote>
<p>注意</p>
<p>管道下游的某些组件可能需要特定的标记器。您可以在<a href="%EF%BC%83">Components中</a>的各个组件上找到这些要求。如果管道内缺少必需的组件，则会引发错误。</p>
</blockquote>
<h4 id="Featurization"><a href="#Featurization" class="headerlink" title="Featurization"></a>Featurization</h4><p>您需要确定是否使用提供预训练单词嵌入的组件。我们建议在训练数据量较少的情况下，从预先训练的词嵌入入手。一旦拥有大量数据并确保最相关的词将出现在数据中，因此将有词嵌入，监督嵌入，这些嵌入可直接从训练数据中学习词义，从而使您的模型对您的领域更加具体。如果找不到适合您语言的预先训练模型，则应使用监督性嵌入。</p>
<h5 id="预先训练的曲面嵌入"><a href="#预先训练的曲面嵌入" class="headerlink" title="预先训练的曲面嵌入"></a>预先训练的曲面嵌入</h5><p>在管道中使用经过预先训练的单词嵌入的优势在于，如果您有一个训练示例，例如：“我想买苹果”，并且要求Rasa预测“买梨”的意图，那么您的模型已经知道“苹果”和“豌豆”这两个词非常相似。如果您没有足够的培训数据，这将特别有用。我们支持提供预训练词嵌入的一些组件：</p>
<ol>
<li><a href="#">MitieFeaturizer</a></li>
<li><a href="#">SpacyFeaturizer</a></li>
<li><a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#convertfeaturizer">ConveRTFeaturizer</a></li>
<li><a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#languagemodelfeaturizer">LanguageModelFeaturizer</a></li>
</ol>
<p>如果您的训练数据是英语，我们建议使用<a href="#">ConveRTFeaturizer</a>。<a href="#">ConveRTFeaturizer</a>的优点是它不会单独处理用户消息的每个单词，而是为整个句子创建上下文向量表示。例如，如果您有一个培训示例，例如：“我可以预订汽车吗？”，并且Rasa被要求预测“我需要从我家乘车”的意图，因为两个示例的上下文矢量表示已经非常相似，两者的分类意图很有可能是相同的。如果您没有足够的训练数据，这也很有用。</p>
<p><a href="#">ConveRTFeaturizer</a>的替代<a href="#">方法</a>是<a href="#">LanguageModelFeaturizer</a>，它使用诸如BERT，GPT-2等的预训练语言模型来提取完整句子的相似上下文向量表示形式。有关支持的语言模型的完整列表，请参见 <a href="#">HFTransformersNLP</a>。</p>
<p>如果您的训练数据不是英语，您还可以使用另一种语言模型变体，该变体已经以特定于您训练数据的语言进行了预训练。例如，BERT模型有中文（<code>bert-base-chinese</code>）和日语（<code>bert-base-japanese</code>）变体。可以在<a target="_blank" rel="noopener" href="https://huggingface.co/transformers/pretrained_models.html">Transformers库</a>的<a target="_blank" rel="noopener" href="https://huggingface.co/transformers/pretrained_models.html">官方文档中</a>找到这些语言模型的不同变体的完整列表 。</p>
<p><a href="#">SpacyFeaturizer</a>还提供了许多不同语言的词嵌入（请参阅<a href="#">预先训练的词向量</a>），因此您可以根据训练数据的语言将其用作另一种选择。</p>
<h5 id="监督曲面嵌入"><a href="#监督曲面嵌入" class="headerlink" title="监督曲面嵌入"></a>监督曲面嵌入</h5><p>如果您在管道中未使用任何预训练的单词嵌入，则无需绑定到特定语言，并且可以将模型训练为更特定于领域。例如，在通用英语中，“平衡”一词与“对称性”紧密相关，但与“现金”一词有很大不同。在银行领域中，“余额”和“现金”密切相关，您希望模型能够抓住这一点。如果您不想使用预训练的单词嵌入，则仅应使用<a href="#">稀疏功能化器</a>类别中的<a href="#">功能化器</a>，例如 <a href="#">CountVectorsFeaturizer</a>，<a href="#">RegexFeaturizer</a>或<a href="#">LexicalSyntacticFeaturizer</a>。</p>
<h4 id="实体识别-意图分类-响应选择器"><a href="#实体识别-意图分类-响应选择器" class="headerlink" title="实体识别/意图分类/响应选择器"></a>实体识别/意图分类/响应选择器</h4><p>根据您的数据，您可能只希望执行意图分类，实体识别或响应选择。或者，您可能希望合并多个这些任务。我们为每个任务支持多个组件。所有这些都在<a href="#">Components</a>中列出。我们建议使用<a href="#">DIETClassifier</a>进行意图分类和实体识别，并使用<a href="#">ResponseSelector</a>进行响应选择。</p>
<h3 id="多意图分类"><a href="#多意图分类" class="headerlink" title="多意图分类"></a>多意图分类</h3><p>您可以使用Rasa开源组件将意图拆分为多个标签。例如，您可以预测多个<code>thank+goodbye</code>Intent （）或模型分层Intent结构（<code>feedback+positive</code>与<code>feedback+negative</code>相比更相似<code>chitchat</code>）。为此，您需要在管道中使用<a href="#">DIETClassifier</a>。您还需要在使用的任何标记程序中定义这些标志：</p>
<blockquote>
<ul>
<li><code>intent_tokenization_flag</code>：将其设置为<code>True</code>，以便标记意图标签。</li>
<li><code>intent_split_symbol</code>：将其设置为分隔意图标签的定界符字符串。在这种情况下<code>+</code>，默认设置<code>_</code>。</li>
</ul>
</blockquote>
<p>阅读 有关如何在Rasa中使用多个意图的<a href="#">教程</a>。</p>
<p>这是一个示例配置：</p>
<pre class=" language-markdown"><code class="language-markdown">language: "en"

pipeline:
<span class="token list punctuation">-</span> name: "WhitespaceTokenizer"
  intent<span class="token italic"><span class="token punctuation">_</span>tokenization<span class="token punctuation">_</span></span>flag: True
  intent<span class="token italic"><span class="token punctuation">_</span>split<span class="token punctuation">_</span></span>symbol: "_"
<span class="token list punctuation">-</span> name: "CountVectorsFeaturizer"
<span class="token list punctuation">-</span> name: "DIETClassifier"</code></pre>
<h3 id="比较管道"><a href="#比较管道" class="headerlink" title="比较管道"></a>比较管道</h3><p>Rasa为您提供了直接比较数据上多个管道性能的工具。有关更多信息，请参见<a href="#">比较NLU管道</a>。</p>
<blockquote>
<p>注意</p>
<p>意图分类与实体提取无关。因此，有时NLU会获得正确的意图，但实体会出错，反之亦然。您需要为意图和实体提供足够的数据</p>
</blockquote>
<h3 id="处理类不平衡"><a href="#处理类不平衡" class="headerlink" title="处理类不平衡"></a>处理类不平衡</h3><p>如果类别失衡很大，例如，如果您有很多针对某些意图的训练数据而很少有针对其他意图的训练数据，则分类算法通常不会表现良好。要缓解此问题，可以使用<code>balanced</code>批处理策略。该算法确保在每个批次中或至少在尽可能多的后续批次中代表所有类别，仍然模仿某些类别比其他类别更频繁的事实。默认情况下使用平衡批处理。为了将其关闭并使用经典的批处理策略，请在您的配置文件中添加该策略 。<code>batch_strategy: sequence</code></p>
<pre class=" language-markdown"><code class="language-markdown">language: "en"

pipeline:
<span class="token title important"><span class="token punctuation">#</span> - ... other components</span>
<span class="token list punctuation">-</span> name: "DIETClassifier"
  batch_strategy: sequence</code></pre>
<h3 id="组件生命周期"><a href="#组件生命周期" class="headerlink" title="组件生命周期"></a>组件生命周期</h3><p>每个组件处理输入和/或创建输出。组件的顺序取决于它们在中列出的顺序<code>config.yml</code>；组件的输出可由管道中紧随其后的任何其他组件使用。某些组件仅生成管道中其他组件使用的信息。其他组件产生的<code>output</code>属性将在处理完成后返回。</p>
<p>例如，对于句子，输出为：<code>"I am looking for Chinese food"</code></p>
<pre class=" language-json"><code class="language-json">&amp;#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"I am looking for Chinese food"</span><span class="token punctuation">,</span>
    <span class="token property">"entities"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token property">"start"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
            <span class="token property">"end"</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
            <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"chinese"</span><span class="token punctuation">,</span>
            <span class="token property">"entity"</span><span class="token operator">:</span> <span class="token string">"cuisine"</span><span class="token punctuation">,</span>
            <span class="token property">"extractor"</span><span class="token operator">:</span> <span class="token string">"DIETClassifier"</span><span class="token punctuation">,</span>
            <span class="token property">"confidence"</span><span class="token operator">:</span> <span class="token number">0.864</span>
        &amp;#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"intent"</span><span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span><span class="token property">"confidence"</span><span class="token operator">:</span> <span class="token number">0.6485910906220309</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"restaurant_search"</span>&amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
    <span class="token property">"intent_ranking"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        &amp;#<span class="token number">123</span><span class="token punctuation">;</span><span class="token property">"confidence"</span><span class="token operator">:</span> <span class="token number">0.6485910906220309</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"restaurant_search"</span>&amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
        &amp;#<span class="token number">123</span><span class="token punctuation">;</span><span class="token property">"confidence"</span><span class="token operator">:</span> <span class="token number">0.1416153159565678</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"affirm"</span>&amp;#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token punctuation">]</span>
&amp;#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
<p>这是在以下管道中不同组件的结果的组合中创建的：</p>
<pre class=" language-markdown"><code class="language-markdown">pipeline:
  <span class="token list punctuation">-</span> name: WhitespaceTokenizer
  <span class="token list punctuation">-</span> name: RegexFeaturizer
  <span class="token list punctuation">-</span> name: LexicalSyntacticFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
  <span class="token list punctuation">-</span> name: CountVectorsFeaturizer
<span class="token code keyword">    analyzer: "char_wb"</span>
<span class="token code keyword">    min_ngram: 1</span>
<span class="token code keyword">    max_ngram: 4</span>
  <span class="token list punctuation">-</span> name: DIETClassifier
  <span class="token list punctuation">-</span> name: EntitySynonymMapper
  <span class="token list punctuation">-</span> name: ResponseSelector</code></pre>
<p>例如，<code>entities</code>此处的属性是由<code>DIETClassifier</code>组件创建的。</p>
<p>每个组件都可以实现<code>Component</code>基类中的几种方法。在管道中，将按特定顺序调用这些不同的方法。假设我们将以下管道添加到我们的<code>config.yml</code>：</p>
<pre class=" language-markdown"><code class="language-markdown">pipeline:
  <span class="token list punctuation">-</span> name: "Component A"
  <span class="token list punctuation">-</span> name: "Component B"
  <span class="token list punctuation">-</span> name: "Last Component"</code></pre>
<p>下图显示了在训练该管道期间的呼叫顺序：</p>
<img src="/2020/10/04/rasa-wen-dang-zhi-nan-11/9.png" style="zoom:50%;">

<p>在使用该<code>create</code>函数创建第一个组件之前，会创建一个所谓<code>context</code>的（仅是python dict）。此上下文用于在组件之间传递信息。例如，一个组件可以计算训练数据的特征向量，将其存储在上下文中，而另一个组件可以从上下文中检索这些特征向量并进行意图分类。</p>
<p>最初，上下文使用所有配置值填充。图像中的箭头显示了呼叫顺序，并可视化了所传递上下文的路径。在对所有组件进行了训练和持久化之后，最终的上下文字典用于持久化模型的元数据。</p>
<h3 id="管道模板（已弃用）"><a href="#管道模板（已弃用）" class="headerlink" title="管道模板（已弃用）"></a>管道模板（已弃用）</h3><p>模板只是完整组件列表的快捷方式。例如，此管道模板：</p>
<blockquote>
<pre class=" language-markdown"><code class="language-markdown">language: "en"
pipeline: "pretrained<span class="token italic"><span class="token punctuation">_</span>embeddings<span class="token punctuation">_</span></span>spacy"</code></pre>
</blockquote>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">daiyizheng</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com/2020/10/04/rasa-wen-dang-zhi-nan-11/">http://yoursite.com/2020/10/04/rasa-wen-dang-zhi-nan-11/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">daiyizheng</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Rasa/">
                                    <span class="chip bg-color">Rasa</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '4UATY1Wl6PiOAJtLDeI11JPG-9Nh9j0Va',
        appKey: 'm8JJMe4Ok7crFRmTthEbo48R',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/10/04/rasa-wen-dang-zhi-nan-12/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/23.jpg" class="responsive-img" alt="Rasa文档指南(12)">
                        
                        <span class="card-title">Rasa文档指南(12)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            NLU-组件
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-10-04
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/nlp/" class="post-category">
                                    nlp
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Rasa/">
                        <span class="chip bg-color">Rasa</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/10/04/rasa-wen-dang-zhi-nan-10/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="Rasa文档指南(10)">
                        
                        <span class="card-title">Rasa文档指南(10)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            云存储
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-10-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/nlp/" class="post-category">
                                    nlp
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Rasa/">
                        <span class="chip bg-color">Rasa</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="song"
                   id="1297742167"
                   fixed='true'
                   autoplay='true'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">daiyizheng</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1181062873@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1181062873" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
