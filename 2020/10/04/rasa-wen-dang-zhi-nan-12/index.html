<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Rasa文档指南(12), 呆小症日记">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Rasa文档指南(12) | 呆小症日记</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="呆小症日记" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">呆小症日记</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">呆小症日记</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/23.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Rasa文档指南(12)</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Rasa/">
                                <span class="chip bg-color">Rasa</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/nlp/" class="post-category">
                                nlp
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-10-04
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h1><p>这是Rasa Open Source中每个内置组件的配置选项的参考。如果要构建自定义组件，请查询“<a href="#">自定义</a></p>
<ul>
<li><a href="#">Word Vector Sources</a><ul>
<li><a href="#">MitieNLP</a></li>
<li><a href="#">SpacyNLP</a></li>
<li><a href="#">HFTransformersNLP</a></li>
</ul>
</li>
<li><a href="#">Tokenizers</a><ul>
<li><a href="#">WhitespaceTokenizer</a></li>
<li><a href="#">JiebaTokenizer</a></li>
<li><a href="#">MitieTokenizer</a></li>
<li><a href="#">SpacyTokenizer</a></li>
<li><a href="#">ConveRTTokenizer</a></li>
<li><a href="#">LanguageModelTokenizer</a></li>
</ul>
</li>
<li><a href="#">Text Featurizers</a><ul>
<li><a href="#">MitieFeaturizer</a></li>
<li><a href="#">SpacyFeaturizer</a></li>
<li><a href="#">ConveRTFeaturizer</a></li>
<li><a href="#">LanguageModelFeaturizer</a></li>
<li><a href="#">RegexFeaturizer</a></li>
<li><a href="#">CountVectorsFeaturizer</a></li>
<li><a href="#">LexicalSyntacticFeaturizer</a></li>
</ul>
</li>
<li><a href="#">Intent Classifiers</a><ul>
<li><a href="#">MitieIntentClassifier</a></li>
<li><a href="#">SklearnIntentClassifier</a></li>
<li><a href="#">EmbeddingIntentClassifier</a></li>
<li><a href="#">KeywordIntentClassifier</a></li>
<li><a href="#">DIETClassifier</a></li>
</ul>
</li>
<li><a href="#">Entity Extractors</a><ul>
<li><a href="#">MitieEntityExtractor</a></li>
<li><a href="#">SpacyEntityExtractor</a></li>
<li><a href="#">EntitySynonymMapper</a></li>
<li><a href="#">CRFEntityExtractor</a></li>
<li><a href="#">DucklingHTTPExtractor</a></li>
<li><a href="#">DIETClassifier</a></li>
</ul>
</li>
<li><a href="#">Selectors</a><ul>
<li><a href="#">ResponseSelector</a></li>
</ul>
</li>
<li><a href="#">Combined Entity Extractors and Intent Classifiers</a><ul>
<li><a href="#">DIETClassifier</a></li>
</ul>
</li>
</ul>
<h2 id="Word-Vector-Sources"><a href="#Word-Vector-Sources" class="headerlink" title="Word Vector Sources"></a>Word Vector Sources</h2><p>如果要在管道中使用预训练的词向量，以下组件将加载预训练的模型。</p>
<h3 id="MitieNLP"><a href="#MitieNLP" class="headerlink" title="MitieNLP"></a>MitieNLP</h3><table>
<thead>
<tr>
<th>Short</th>
<th>MITIE初始值设定项</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>初始化MITIE结构。每个MITIE组件都依赖于此，因此应将其放在使用任何MITIE组件的每个管道的开头。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>MITIE库需要一个语言模型文件，该文件<strong>必须</strong>在配置中指定：<br><br> pipeline: <br>- name: “MitieNLP”   # language model to load   <br>model: “data/total_word_feature_extractor.dat”<br><br>有关从何处获取该文件的更多信息，请继续 <a href="#">安装MITIE</a>。</td>
</tr>
</tbody></table>
<h3 id="SpacyNLP"><a href="#SpacyNLP" class="headerlink" title="SpacyNLP"></a>SpacyNLP</h3><table>
<thead>
<tr>
<th>Short</th>
<th>SpacyNLP初始值设定项</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>初始化空间结构。每个spaCy组件都依赖于此，因此应将其放置在使用任何spaCy组件的每个管道的开头。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>您需要指定要使用的语言模型。默认情况下，管道中配置的语言将用作语言模型名称。如果要使用的模型spaCy具有名称是从语言标签（不同<code>"en"</code>，<code>"de"</code>等），可以使用配置变量指定的型号名称<code>model</code>。该名称将传递给<code>spacy.load(name)</code>。<br><br> pipeline: <br>- name: “SpacyNLP”   # language model to load   <br>model: “en_core_web_md”   <br>case_sensitive: False<br><br>有关如何下载spaCy模型的更多信息，请继续 <a href="#">安装SpaCy</a>。</td>
</tr>
</tbody></table>
<h3 id="HFTransformersNLP"><a href="#HFTransformersNLP" class="headerlink" title="HFTransformersNLP"></a>HFTransformersNLP</h3><table>
<thead>
<tr>
<th>Short</th>
<th>基于HuggingFace的Transformers的预训练语言模型初始化程序</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>从HuggingFace的<a target="_blank" rel="noopener" href="https://huggingface.co/transformers/">Transformers库</a>初始化指定的预训练语言模型。该组件应用特定于语言模型的标记化和特征化来为训练数据中的每个示例计算序列和句子级别的表示形式。包括<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#languagemodeltokenizer">LanguageModelTokenizer</a>和<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#languagemodelfeaturizer">LanguageModelFeaturizer，</a>以将该组件的输出用于下游NLU模型。<br><br>**注意:**要使用<code>HFTransformersNLP</code>组件，请通过安装Rasa Open Source 。<code>pip install rasa[transformers]</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>您应该通过参数指定要加载的语言模型<code>model_name</code>。有关可用的语言模型，请参见下表。此外，您还可以通过指定参数来指定所选语言模型的体系结构变体<code>model_weights</code>。可在<a target="_blank" rel="noopener" href="https://huggingface.co/transformers/pretrained_models.html">此处</a>找到支持的体系结构的完整列表 。如果保留为空，则使用原始Transformers库加载的默认模型架构（请参见下表）。<br><br>pipeline:  <br>     - name: HFTransformersNLP    <br>       model_name: “bert”     <br>       model_weights: “bert-base-uncased”      <br>       cache_dir: null</td>
</tr>
</tbody></table>
<h2 id="Tokenizers"><a href="#Tokenizers" class="headerlink" title="Tokenizers"></a>Tokenizers</h2><p>令牌生成器将文本拆分为令牌。如果要将意图拆分为多个标签，例如，用于预测多个意图或为分层的意图结构建模，请对任何标记器使用以下标志：</p>
<ul>
<li><code>intent_tokenization_flag</code>指示是否标记意图标签。将其设置为<code>True</code>，以便标记意图标签。</li>
<li><code>intent_split_symbol</code>设置分隔符字符串以分割意图标签，默认值为下划线（<code>_</code>）。</li>
</ul>
<blockquote>
<p>注意</p>
<p><code>__CLS__</code>当标记文本和响应时，所有标记生成器都会在标记列表的末尾添加一个附加标记。</p>
</blockquote>
<h3 id="WhitespaceTokenizer"><a href="#WhitespaceTokenizer" class="headerlink" title="WhitespaceTokenizer"></a>WhitespaceTokenizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用空格作为分隔符的分词器</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>tokens</code> 用于用户消息，响应（如果存在）和意图（如果指定</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>为每个由空格分隔的字符序列创建令牌。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>通过添加选项，使标记化器不区分大小写，默认为。<code>case_sensitive: False  case_sensitive: True</code><br><br> pipeline:<br>      - name: “WhitespaceTokenizer”     <br>       “intent_tokenization_flag”: False    <br>       “intent_split_symbol”: “_”    <br>       “case_sensitive”: True<br><br></td>
</tr>
</tbody></table>
<h3 id="JiebaTokenizer"><a href="#JiebaTokenizer" class="headerlink" title="JiebaTokenizer"></a>JiebaTokenizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用Jieba中文的分词器</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>tokens</code> 用于用户消息，响应（如果存在）和意图（如果指定）</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用专用于中文的Jieba标记器创建标记。仅适用于中文。<br><strong>注意</strong><br>要使用，<code>JiebaTokenizer</code>您需要使用来安装Jieba 。<code>pip install jieba</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>可以通过指定文件的目录路径来自动加载用户的自定义词典文件<code>dictionary_path</code>。如果<code>dictionary_path</code>是<code>None</code>（默认），则将不使用任何自定义词典。<br><br> pipeline: <br>      - name: “JiebaTokenizer”   <br>        dictionary_path: “path/to/custom/dictionary/dir”   <br>        “intent_tokenization_flag”: False   <br>        “intent_split_symbol”: “_”<br></td>
</tr>
</tbody></table>
<h3 id="MitieTokenizer"><a href="#MitieTokenizer" class="headerlink" title="MitieTokenizer"></a>MitieTokenizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用MITIE的分词器</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>tokens</code> 用于用户消息，响应（如果存在）和意图（如果指定）</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">MitieNLP</a></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用MITIE token生成器创建token</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td><br> pipeline:<br>       - name: “MitieTokenizer”   <br>         “intent_tokenization_flag”: False  <br>         “intent_split_symbol”: “_”</td>
</tr>
</tbody></table>
<h3 id="SpacyTokenizer"><a href="#SpacyTokenizer" class="headerlink" title="SpacyTokenizer"></a>SpacyTokenizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用spaCy的token生成器</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>tokens</code> 用于用户消息，响应（如果存在）和意图（如果指定）</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">SpacyNLP</a></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用spaCy token生成器创建token。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td><br>pipeline: <br>     - name: “SpacyTokenizer”   <br>       “intent_tokenization_flag”: False   <br>       “intent_split_symbol”: “_”</td>
</tr>
</tbody></table>
<h3 id="ConveRTTokenizer"><a href="#ConveRTTokenizer" class="headerlink" title="ConveRTTokenizer"></a>ConveRTTokenizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用<a target="_blank" rel="noopener" href="https://github.com/PolyAI-LDN/polyai-models#convert">ConveRT</a>模型的分词器。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>tokens</code> 用于用户消息，响应（如果存在）和意图（如果指定）</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用ConveRT标记程序创建标记。每当使用<a href="#">ConveRTFeaturizer</a>时必须使用。<br><strong>注意</strong><br>由于<code>ConveRT</code>仅在英语会话语料库上训练模型，因此仅当您的训练数据是英语时才应使用此标记器。<br><strong>注意</strong><br>要使用<code>ConveRTTokenizer</code>，请使用来安装Rasa Open Source 。<code>pip install rasa[convert]</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>通过添加选项，使标记化器不区分大小写，默认为。<code>case_sensitive: False  case_sensitive: True</code><br>pipeline: <br>     - name: “ConveRTTokenizer”   <br>       “intent_tokenization_flag”: False  <br>       “intent_split_symbol”: “_”   <br>       “case_sensitive”: True  <br>       “model_url”: “<a target="_blank" rel="noopener" href="https://github.com/PolyAI-LDN/polyai-models/releases/download/v1.0/model.tar.gz&quot;">https://github.com/PolyAI-LDN/polyai-models/releases/download/v1.0/model.tar.gz"</a></td>
</tr>
</tbody></table>
<h3 id="LanguageModelTokenizer"><a href="#LanguageModelTokenizer" class="headerlink" title="LanguageModelTokenizer"></a>LanguageModelTokenizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>预训练语言模型中的分词器</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>tokens</code> 用于用户消息，响应（如果存在）和意图（如果指定）</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">HFTransformersNLP</a></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用在上游<a href="#">HFTransformersNLP</a>组件中指定的预训练语言模型来创建令牌。每当使用<a href="#">LanguageModelFeaturizer</a>时必须使用。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>pipeline: <br>      - name: “LanguageModelTokenizer”   <br>        “intent_tokenization_flag”: False   <br>        “intent_split_symbol”: “_”</td>
</tr>
</tbody></table>
<h2 id="Text-Featurizers"><a href="#Text-Featurizers" class="headerlink" title="Text Featurizers"></a>Text Featurizers</h2><p>文本修饰符分为两类：稀疏修饰符和密集修饰符。稀疏特征化器是返回具有很多缺失值（例如零）的特征向量的特征化器。由于这些特征向量通常会占用大量内存，因此我们将它们存储为稀疏特征。稀疏特征仅存储非零值及其在向量中的位置。因此，我们节省了大量内存，并且能够在更大的数据集上进行训练。</p>
<p>默认情况下，所有特征器将返回一个length矩阵。因此，返回的矩阵将为每个令牌都有一个特征向量。这使我们可以训练序列模型。但是，末尾的附加标记（例如）包含用于完整发音的功能。此特征向量可用于任何词袋模型。因此，相应的分类器可以决定使用哪种类型的功能。<code>(number-of-tokens x feature-dimension)  __CLS__</code></p>
<h3 id="MitieFeaturizer"><a href="#MitieFeaturizer" class="headerlink" title="MitieFeaturizer"></a>MitieFeaturizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用MITIE功能创建器创建用户消息和响应（如果指定）的矢量表示。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>dense_features</code> 用于用户消息和响应</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">MitieNLP</a></td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Dense featurizer</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用MITIE featurizer创建用于实体提取，意图分类和响应分类的功能。<br><strong>注意</strong><br>不使用的<code>MitieIntentClassifier</code>组件。但可以在稍后使用的管道中的任何组件中使用<code>dense_features</code>。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td><code>__CLS__</code>可以通过均值或最大池化两种不同方式来计算句子向量（即令牌的向量）。您可以使用选项在配置文件中指定池化方法<code>pooling</code>。默认池化方法设置为<code>mean</code>。<br>pipeline: <br>     - name: “MitieFeaturizer” <br>      “pooling”: “mean”</td>
</tr>
</tbody></table>
<h3 id="SpacyFeaturizer"><a href="#SpacyFeaturizer" class="headerlink" title="SpacyFeaturizer"></a>SpacyFeaturizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用MITIE功能创建器创建用户消息和响应（如果指定）的矢量表示。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>dense_features</code> 用于用户消息和响应</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">SpacyNLP</a></td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Dense featurizer</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用spaCy featurizer创建用于实体提取，意图分类和响应分类的功能。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td><code>__CLS__</code>可以通过均值或最大池化两种不同方式来计算句子向量（即令牌的向量）。您可以使用选项在配置文件中指定池化方法<code>pooling</code>。默认池化方法设置为<code>mean</code>。<br>pipeline: <br>     - name: “SpacyFeaturizer”   <br>       “pooling”: “mean”</td>
</tr>
</tbody></table>
<h3 id="ConveRTFeaturizer"><a href="#ConveRTFeaturizer" class="headerlink" title="ConveRTFeaturizer"></a>ConveRTFeaturizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用<a target="_blank" rel="noopener" href="https://github.com/PolyAI-LDN/polyai-models">ConveRT</a>模型创建用户消息和响应（如果指定）的矢量表示 。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>dense_features</code> 用于用户消息和响应</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">ConveRTTokenizer</a></td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Dense featurizer</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>创建用于实体提取，意图分类和响应选择的功能。它使用<a target="_blank" rel="noopener" href="https://github.com/PolyAI-LDN/polyai-models#tfhub-signatures">默认签名</a>来计算输入文本的矢量表示。<br><strong>注意</strong><br>由于<code>ConveRT</code>仅在英语会话语料库上训练模型，因此仅当您的训练数据是英语时才应使用此功能化器。<br><strong>注意</strong><br>要使用<code>ConveRTTokenizer</code>，请使用来安装Rasa Open Source 。<code>pip install rasa[convert]</code><br></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>pipeline: <br>     - name: “ConveRTFeaturizer”   <br>       “model_url”: “<a target="_blank" rel="noopener" href="https://github.com/PolyAI-LDN/polyai-models/releases/download/v1.0/model.tar.gz&quot;">https://github.com/PolyAI-LDN/polyai-models/releases/download/v1.0/model.tar.gz"</a></td>
</tr>
</tbody></table>
<h3 id="LanguageModelFeaturizer"><a href="#LanguageModelFeaturizer" class="headerlink" title="LanguageModelFeaturizer"></a>LanguageModelFeaturizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用预先训练的语言模型创建用户消息和响应（如果指定）的矢量表示。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>dense_features</code> 用于用户消息和响应</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">HFTransformersNLP</a>和<a href="#">LanguageModelTokenizer</a></td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Dense featurizer</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>创建用于实体提取，意图分类和响应选择的功能。使用在上游<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#hftransformersnlp">HFTransformersNLP</a>组件中指定的预训练语言模型来计算输入文本的矢量表示。<br><strong>注意</strong><br>请确保您使用的语言模型已经与您的训练数据在相同的语言语料库上进行了预训练。<br></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>在此组件之前包括<a href="#">HFTransformersNLP</a>和<a href="#">LanguageModelTokenizer</a>组件。使用 <a href="#">LanguageModelTokenizer</a>确保为整个管道中的所有组件正确设置令牌。<br>pipeline:<br>     - name: “LanguageModelFeaturizer”</td>
</tr>
</tbody></table>
<h3 id="RegexFeaturizer"><a href="#RegexFeaturizer" class="headerlink" title="RegexFeaturizer"></a>RegexFeaturizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用正则表达式创建用户消息的矢量表示。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>sparse_features<code>用于用户消息和</code>tokens.pattern</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>tokens</td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Sparse featurizer</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>创建用于实体提取和意图分类的功能。在训练期间，<code>RegexFeaturizer</code>会创建一个以训练数据格式定义的正则表达式列表。对于每个正则表达式，将设置一个功能，以标记是否在用户消息中找到了此表达式。稍后，所有功能都将被输入到意图分类器/实体提取器中以简化分类（假设分类器在训练阶段已获悉，此设置的功能指示特定的意图/实体）。当前仅<a href="#">CRFEntityExtractor</a>和 <a href="#">DIETClassifier</a>组件支持用于实体提取的正则表达式功能！</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>pipeline: <br>    - name: “RegexFeaturizer”</td>
</tr>
</tbody></table>
<h3 id="CountVectorsFeaturizer"><a href="#CountVectorsFeaturizer" class="headerlink" title="CountVectorsFeaturizer"></a>CountVectorsFeaturizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>创建用户消息，意图和响应的词袋表示。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>sparse_features</code> 用于用户消息，意图和响应</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>tokens</td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Sparse featurizer</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>创建用于意图分类和响应选择的功能。使用<a href="#">sklearn的CountVectorizer</a>创建用户消息，意图和响应 <a href="#">的关键词表示</a>。所有仅由数字组成的令牌（例如123和99，但不包括a123d）将分配给同一功能。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>有关 配置参数的详细说明，请参见<a target="_blank" rel="noopener" href="http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html">sklearn的CountVectorizer文档</a>。<br>可以使用<code>analyzer</code>配置参数将此功能配置为使用单词或字符n-gram 。默认情况下<code>analyzer</code>设置为，<code>word</code>因此单词标记计数用作功能。如果要使用字符n-gram，请将设置<code>analyzer</code>为<code>char</code>或<code>char_wb</code>。可以通过参数<code>min_ngram</code>和来配置n元语法的上下边界<code>max_ngram</code>。默认情况下，它们都设置为<code>1</code>。<br>注意<br>Option<code>char_wb</code>仅从单词边界内的文本创建字符n-gram；单词边缘的n-gram用空格填充。此选项可用于创建子<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1810.07150">词语义散列</a>。<br><strong>注意</strong><br>对于字符n-gram，不要忘记增加<code>min_ngram</code>和<code>max_ngram</code>参数。否则，词汇表将仅包含单个字母。<br>处理词汇量（OOV）词：<br><strong>注意</strong><br>启用仅<code>analyzer</code>是<code>word</code>。<br>由于训练是在有限的词汇数据上进行的，因此不能保证算法在预测期间不会遇到未知词（训练中未看到的词）。为了教授一种算法如何处理未知单词，可以将训练数据中的某些单词替换为通用单词<code>OOV_token</code>。在这种情况下，在预测期间，所有未知单词都将被视为该通用单词<code>OOV_token</code>。<br>例如，一个人可能会<code>outofscope</code>在训练数据中创建单独的意图，其中包含不同数量<code>OOV_token</code>s的消息以及可能包含一些其他常规词。然后，算法可能会将带有未知单词的消息分类为此意图<code>outofscope</code>。<br>您可以设置<code>OOV_token</code>或单词列表<code>OOV_words</code>：<br>     <code>OOV_token</code>为看不见的单词设置关键字；如果训练数据<code>OOV_token</code>在某些消息中包含单词，则在预测期间，将使用提供替换在训练期间未看到的单词<code>OOV_token</code>；如果<code>OOV_token=None</code>（默认行为）训练期间未看到的单词在预测时间内将被忽略；<br>     <code>OOV_words</code>设定<code>OOV_token</code>训练期间要处理的单词清单；如果已知应视为词汇量不足的单词列表，则可以将其设置为，<code>OOV_words</code>而不是在训练数据中手动更改它或使用自定义预处理器。<br><strong>注意</strong><br>这个featurizer通过对单词<strong>计数</strong>来创建单词袋表示，因此<code>OOV_token</code>句子中的数量可能很重要。<br><strong>注意</strong><br>提供<code>OOV_words</code>是可选的，培训数据可以包含<code>OOV_token</code>手动输入，也可以包含自定义的附加预处理器。<code>OOV_token</code> <strong>只有</strong>在训练数据或<code>OOV_words</code>列表中存在此标记时，看不见的单词才会被替换。<br>如果要在用户消息和意图之间共享词汇，则需要将选项设置 <code>use_shared_vocab</code>为<code>True</code>。在这种情况下，将建立意图令牌和用户消息之间的通用词汇集<br>pipeline: <br>      - name: “CountVectorsFeaturizer” <br>        “analyzer”: “word”  <br>        “min_ngram”: 1  <br>        “max_ngram”: 1   <br>        “OOV_token”: “<em>oov</em>“ <br>        “use_shared_vocab”: False<br>上面的配置参数是您应该配置的参数，以使模型适合数据。但是，存在可以调整的其他参数。</td>
</tr>
</tbody></table>
<img src="/2020/10/04/rasa-wen-dang-zhi-nan-12/9.png" style="zoom:90%;">

<h3 id="LexicalSyntacticFeaturizer"><a href="#LexicalSyntacticFeaturizer" class="headerlink" title="LexicalSyntacticFeaturizer"></a>LexicalSyntacticFeaturizer</h3><table>
<thead>
<tr>
<th>Short</th>
<th>为用户消息创建词汇和句法功能以支持实体提取。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td><code>sparse_features</code> 用于用户消息</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>tokens</td>
</tr>
<tr>
<td><strong>Type</strong></td>
<td>Sparse featurizer</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>创建用于实体提取的功能。使用滑动窗口在用户消息中的每个令牌上移动，并根据配置创建功能（请参见下文）。由于存在默认配置，因此您无需指定配置。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>您可以配置featurizer应该提取哪种词汇和句法功能。提供以下功能：<br><img src="/2020/10/04/rasa-wen-dang-zhi-nan-12/10.png" style="zoom:50%;"><br>当功能化器在带有滑动窗口的用户消息中移动标记时，您可以为滑动窗口中的先前标记，当前标记和下一个标记定义功能。您将要素定义为[before，token，after]数组。如果要为之前的令牌，当前令牌和之后的令牌定义功能，则功能配置应如下所示：<br>pipeline: <br>      - name: LexicalSyntacticFeaturizer   <br>        “features”: [  <br>              [“low”, “title”, “upper”],  <br>              [“BOS”, “EOS”, “low”, “upper”, “title”, “digit”],    <br>              [“low”, “title”, “upper”],  <br>            ]<br>此配置也是默认配置。<br> <strong>注意</strong><br>如果要使用<code>pos</code>或<code>pos2</code>需要添加<code>SpacyTokenizer</code>到管道中。</td>
</tr>
</tbody></table>
<h2 id="Intent-Classifiers"><a href="#Intent-Classifiers" class="headerlink" title="Intent Classifiers"></a>Intent Classifiers</h2><p>意图分类器将域文件中定义的意图之一分配给传入的用户消息。</p>
<h3 id="MitieIntentClassifier"><a href="#MitieIntentClassifier" class="headerlink" title="MitieIntentClassifier"></a>MitieIntentClassifier</h3><table>
<thead>
<tr>
<th>Short</th>
<th>MITIE意向分类器（使用 <a target="_blank" rel="noopener" href="https://github.com/mit-nlp/MITIE/blob/master/examples/python/text_categorizer_pure_model.py">文本分类器</a>）</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>intent</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><code>tokens</code>用于用户消息和<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#mitienlp">MitieNLP</a></td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     <br>“intent”: {“name”: “greet”, “confidence”: 0.98343} <br>}</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>该分类器使用MITIE进行意图分类。底层分类器正在使用具有稀疏线性内核的多类线性SVM（请参阅 <a target="_blank" rel="noopener" href="https://github.com/mit-nlp/MITIE/blob/master/mitielib/src/text_categorizer_trainer.cpp#L222">MITIE训练代码</a>）。<br><strong>注意</strong><br>该分类器不依赖任何特征化器，因为它自己提取特征。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>pipeline:<br>    - name: “MitieIntentClassifier”</td>
</tr>
</tbody></table>
<h3 id="SklearnIntentClassifier"><a href="#SklearnIntentClassifier" class="headerlink" title="SklearnIntentClassifier"></a>SklearnIntentClassifier</h3><table>
<thead>
<tr>
<th>Short</th>
<th>Sklearn意图分类器</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>intent<code>和</code>intent_ranking</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><code>dense_features</code> 用于用户消息</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{    <br> “intent”: {“name”: “greet”, “confidence”: 0.78343},  <br>   “intent_ranking”: [   {    <br>                          “confidence”: 0.1485910906220309,         <br>                         “name”: “goodbye”         },         <br>                      { “confidence”: 0.08161531595656784,   <br>                         “name”: “restaurant_search”         }     ]<br> }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>sklearn目的分类器训练了一个线性SVM，该SVM使用网格搜索进行了优化。它还提供了未“获胜”的标签的排名。将<code>SklearnIntentClassifier</code>通过在管道密集featurizer前面的需求。这种密集的特征化器创建了用于分类的功能。有关算法本身的更多信息，请参阅 <a target="_blank" rel="noopener" href="https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.GridSearchCV.html">GridSearchCV</a> 文档。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>在SVM训练期间，将运行超参数搜索以找到最佳参数集。在配置中，您可以指定将尝试的参数。<br>pipeline: <br>      - name: “SklearnIntentClassifier”   <br>        C: [1, 2, 5, 10, 20, 100]   <br>        kernels: [“linear”]  <br>        “gamma”: [0.1]   <br>        “max_cross_validation_folds”: 5   <br>        “scoring_function”: “f1_weighted”</td>
</tr>
</tbody></table>
<h3 id="EmbeddingIntentClassifier"><a href="#EmbeddingIntentClassifier" class="headerlink" title="EmbeddingIntentClassifier"></a>EmbeddingIntentClassifier</h3><blockquote>
<p>警告</p>
<p><code>EmbeddingIntentClassifier</code>已弃用，应以代替<code>DIETClassifier</code>。有关更多详细信息，请参见 <a href="#">迁移指南</a>。</p>
</blockquote>
<table>
<thead>
<tr>
<th>Short</th>
<th>嵌入意图分类器以进行意图分类</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>intent<code>和</code>intent_ranking</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><code>dense_features</code>和/或<code>sparse_features</code>用于用户消息，以及可选的意图</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “intent”: {“name”: “greet”, “confidence”: 0.78343},     “intent_ranking”: [         {             “confidence”: 0.1485910906220309,             “name”: “goodbye”         },         {             “confidence”: 0.08161531595656784,             “name”: “restaurant_search”         }     ] }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>该<code>EmbeddingIntentClassifier</code>嵌入用户输入和意图的标签在同一个空间。通过最大化嵌入之间的相似性来训练有监督的嵌入。该算法基于<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1709.03856">StarSpace</a>。但是，在此实现中，损失函数略有不同，并且其他附加的隐藏层与丢失一起添加。该算法还提供了未“获胜”的标签的相似性排名。<br><strong>注意</strong><br>如果在预测时间内，一条消息<strong>仅</strong>包含训练中看不见的单词，并且未使用词汇量外预处理器，则可以有把握地<code>None</code>预测 出一个空的意图<code>0.0</code>。如果仅将<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#countvectorsfeaturizer">CountVectorsFeaturizer</a>与<code>word</code>分析仪一起用作特征化器，则可能会发生这种情况。如果使用<code>char_wb</code>分析仪，则应始终获得具有置信度值的意图。<code>&gt; 0.0</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>您可以定义许多超参数来适应模型。如果要调整模型，请首先修改以下参数：<br> <code>epochs</code> ：此参数设置算法查看训练数据的次数（默认值：）<code>300</code>。一个<code>epoch</code>是等于一个直传和所有的训练例子之一向通行。有时，模型需要更多的时期才能正确学习。有时更多的时期不会影响性能。时期数越少，模型训练越快。<br><code>hidden_layers_sizes</code> ：此参数允许您为用户消息和意图定义前馈层的数量及其输出尺寸（默认值：）。列表中的每个条目都对应一个前馈层。例如，如果设置，我们将在变压器前面添加两个前馈层。输入令牌的矢量（来自用户消息）将传递到这些层。第一层的输出尺寸为256，第二层的输出尺寸为128。如果使用空列表（默认行为），则不会添加前馈层。确保仅使用正整数。通常，使用2的幂数。同样，通常的做法是在列表中减小值：下一个值小于或等于前一个值。 text: [256, 128], label: []  text: [256, 128]<br> <code>embedding_dimension </code>：此参数定义模型内部使用的嵌入层的输出尺寸（默认值：）<code>20</code>。我们在模型架构内部使用了多个嵌入层。例如，在比较<code>__CLS__</code>令牌和计算损失之前，将令牌的矢量和意图传递给嵌入层。<br><code>weight_sparsity</code>：此参数定义了模型中所有前馈层的内核权重的分数，将其设置为0（默认值：）<code>0.0</code>。该值应在0到1之间。如果设置<code>weight_sparsity</code> 为0，则没有内核权重将设置为0，该层将充当标准前馈层。您不应将其设置<br><code>weight_sparsity</code>：此参数定义了模型中所有前馈层的内核权重的分数，将其设置为0（默认值：）<code>0.0</code>。该值应在0到1之间。如果设置<code>weight_sparsity</code> 为0，则没有内核权重将设置为0，该层将充当标准前馈层。您不应将其设置<br><code>weight_sparsity</code>为1，因为这将导致所有内核权重均为0，即模型无法学习。<br>上面的配置参数是您应该配置的参数，以使模型适合数据。但是，存在可以调整的其他参数<br>*<em>注意</em><br>出于<code>cosine</code>相似性<code>maximum_positive_similarity</code>，<code>maximum_negative_similarity</code>应在<code>-1</code>和之间<code>1</code><br><strong>注意</strong><br>有一个选项可以使用线性增加的批量大小。这个想法来自 <a target="_blank" rel="noopener" href="https://arxiv.org/abs/1711.00489%E3%80%82%E4%B8%BA%E6%AD%A4%EF%BC%8C%E5%B0%86%E4%B8%80%E4%B8%AA%E5%88%97%E8%A1%A8%E4%BC%A0%E9%80%92%E7%BB%99">https://arxiv.org/abs/1711.00489。为此，将一个列表传递给</a> batch_size，例如（默认行为）。如果需要常量，请传递，例如。”batch_size”: [64, 256] batch_size int  “batch_size”: 64 <br><strong>注意</strong><br>参数<code>maximum_negative_similarity</code>被设定为负值的情况下模拟原始starspace算法 和。有关详细信息，请参见<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1709.03856">星空纸</a>。<code>maximum_negative_similarity = maximum_positive_similarity``use_maximum_negative_similarity = False</code></td>
</tr>
</tbody></table>
<h3 id="KeywordIntentClassifier"><a href="#KeywordIntentClassifier" class="headerlink" title="KeywordIntentClassifier"></a>KeywordIntentClassifier</h3><table>
<thead>
<tr>
<th>Short</th>
<th>简单的关键字匹配意图分类器，适用于小型短期项目。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>intent</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “intent”: {“name”: “greet”, “confidence”: 1.0} }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>该分类器通过在消息中搜索关键字来工作。默认情况下，匹配项区分大小写，并且仅搜索用户消息中关键字字符串的完全匹配项。意图的关键字是NLU训练数据中该意图的示例。这意味着整个示例都是关键字，而不是示例中的单个单词。<br><strong>注意</strong><br>此分类器仅适用于小型项目或入门。如果您几乎没有NLU培训数据，则可以在<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/choosing-a-pipeline/#choosing-a-pipeline">选择</a>管道中查看推荐 <a href="#">的管道</a>。<br></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>pipeline: <br>      - name: “KeywordIntentClassifier”  <br>        case_sensitive: True</td>
</tr>
</tbody></table>
<h3 id="DIETClassifier"><a href="#DIETClassifier" class="headerlink" title="DIETClassifier"></a>DIETClassifier</h3><table>
<thead>
<tr>
<th>Short</th>
<th>双意图实体变压器（DIET）用于意图分类和实体提取</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Description</strong></td>
<td>您可以在“组合实体提取器和意图分类器”部分下 找到<a href="#">DIETClassifier</a>的详细描述。</td>
</tr>
</tbody></table>
<h2 id="Entity-Extractors"><a href="#Entity-Extractors" class="headerlink" title="Entity Extractors"></a>Entity Extractors</h2><p>实体提取器从用户消息中提取实体，例如人名或位置。</p>
<h3 id="MitieEntityExtractor"><a href="#MitieEntityExtractor" class="headerlink" title="MitieEntityExtractor"></a>MitieEntityExtractor</h3><table>
<thead>
<tr>
<th>Short</th>
<th>MITIE实体提取（使用<a target="_blank" rel="noopener" href="https://github.com/mit-nlp/MITIE/blob/master/mitielib/src/ner_trainer.cpp">MITIE NER训练</a>）</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>entities</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">MitieNLP</a>和<code>tokens</code></td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “entities”: [{         “value”: “New York City”,         “start”: 20,         “end”: 33,         “confidence”: null,         “entity”: “city”,         “extractor”: “MitieEntityExtractor”     }] }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><code>MitieEntityExtractor</code>使用MITIE实体提取来查找消息中的实体。底层分类器使用具有稀疏线性内核和自定义功能的多类线性SVM。MITIE组件不提供实体置信度值。<br><strong>注意</strong><br>该实体提取器不依赖任何特征化器，因为它自己提取特征。<br></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>pipeline: <br>    - name: “MitieEntityExtractor”</td>
</tr>
</tbody></table>
<h3 id="SpacyEntityExtractor"><a href="#SpacyEntityExtractor" class="headerlink" title="SpacyEntityExtractor"></a>SpacyEntityExtractor</h3><table>
<thead>
<tr>
<th>Short</th>
<th>Spacy实体提取</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>entities</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><a href="#">SpacyNLP</a></td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “entities”: [{         “value”: “New York City”,         “start”: 20,         “end”: 33,         “confidence”: null,         “entity”: “city”,         “extractor”: “SpacyEntityExtractor”     }] }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>使用spaCy，此组件可以预测消息的实体。spaCy使用统计的BILOU转换模型。到目前为止，此组件只能使用spaCy内置的实体提取模型，并且不能进行重新训练。该提取器不提供任何置信度分数。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>配置spaCy组件应提取的维度（即实体类型）。可用尺寸的完整列表可在<a href="#">spaCy文档中</a>找到。不指定尺寸选项将提取所有可用尺寸。<br>pipeline: <br>      - name: “SpacyEntityExtractor”   <br>        dimensions: [“PERSON”, “LOC”, “ORG”, “PRODUCT”]</td>
</tr>
</tbody></table>
<h3 id="EntitySynonymMapper"><a href="#EntitySynonymMapper" class="headerlink" title="EntitySynonymMapper"></a>EntitySynonymMapper</h3><table>
<thead>
<tr>
<th>Short</th>
<th>将同义实体值映射到相同的值。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>修改先前的实体提取组件找到的现有实体。</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “entities”: [{         “value”: “New York City”,         “start”: 20,         “end”: 33,         “confidence”: null,         “entity”: “city”,         “extractor”: “SpacyEntityExtractor”     }] }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>如果训练数据包含已定义的同义词，则此组件将确保将检测到的实体值映射到相同的值。例如，如果您的训练数据包含以下示例：<br>[     {       “text”: “I moved to New York City”,       “intent”: “inform_relocation”,       “entities”: [{         “value”: “nyc”,         “start”: 11,         “end”: 24,         “entity”: “city”,       }]     },     {       “text”: “I got a new flat in NYC.”,       “intent”: “inform_relocation”,       “entities”: [{         “value”: “nyc”,         “start”: 20,         “end”: 23,         “entity”: “city”,       }]     } ]<br>此组件将允许你在实体映射和到。即使消息包含，实体提取也将返回。当此组件更改现有实体时，会将其自身附加到该实体的处理器列表中。<code>New York City``NYC``nyc``nyc``NYC</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>pipeline: <br>    - name: “EntitySynonymMapper”<br><strong>注意</strong><br>当<code>EntitySynonymMapper</code>将N用作NLU管道的一部分时，需要将其放置在配置文件中任何实体提取器的下方。</td>
</tr>
</tbody></table>
<h3 id="CRFEntityExtractor"><a href="#CRFEntityExtractor" class="headerlink" title="CRFEntityExtractor"></a>CRFEntityExtractor</h3><table>
<thead>
<tr>
<th>Short</th>
<th>条件随机场（CRF）实体提取</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>修改先前的实体提取组件找到的现有实体。</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><code>tokens</code>和<code>dense_features</code>（可选）</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>“entities”: [{         “value”: “New York City”,         “start”: 20,         “end”: 33,         “entity”: “city”,         “confidence”: 0.874,         “extractor”: “CRFEntityExtractor”     }] }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>该组件实现条件随机字段（CRF）以进行命名实体识别。可以将CRF视为无向马尔可夫链，其中时间步长是单词，状态是实体类。单词的特征（大写，POS标记等）赋予某些实体类几率，相邻实体标签之间的转换也是如此：然后计算并返回最可能的一组标签。</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td><code> CRFEntityExtractor</code>列出了要使用的默认功能。但是，您可以覆盖默认配置。提供以下功能：<br>当功能化器在带有滑动窗口的用户消息中移动标记时，您可以为滑动窗口中的先前标记，当前标记和下一个标记定义功能。您可以将特征定义为[before，token，after]数组。<br>BILOU_flag<code>确定是否使用BILOU标记。默认</code>True<br>pipeline: <br>      - name: “CRFEntityExtractor”  <br>        “BILOU_flag”: True   <br>        “features”: [     [“low”, “title”, “upper”],   <br>                         [  <br>                             “bias”,    <br>                             “low”,       <br>                             “prefix5”,      <br>                             “prefix2”,      <br>                             “suffix5”,    <br>                              “suffix3”,   <br>                              “suffix2”,     <br>                              “upper”,     <br>                             “title”,    <br>                             “digit”,    <br>                              “pattern”,     ],   <br>                      [<br>                             “low”, <br>                            “title”, <br>                           “upper”],    ]  <br>             “max_iterations”: 50   <br>              “L1_c”: 0.1  <br>             “L2_c”: 0.1<br><strong>注意</strong><br>如果使用POS功能（<code>pos</code>或<code>pos2</code>），则需要<code>SpacyTokenizer</code>在管道中使用。<br><strong>注意</strong><br>如果使用<code>pattern</code>功能，则需要包含<code>RegexFeaturizer</code>在管道中。</td>
</tr>
</tbody></table>
<h3 id="DucklingHTTPExtractor"><a href="#DucklingHTTPExtractor" class="headerlink" title="DucklingHTTPExtractor"></a>DucklingHTTPExtractor</h3><table>
<thead>
<tr>
<th>Short</th>
<th>使用Duckling，您可以用多种语言提取常见的实体，例如日期，金额，距离和其他实体。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>entities</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td>没有</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “entities”: [{         “end”: 53,         “entity”: “time”,         “start”: 48,         “value”: “2017-04-10T00:00:00.000+02:00”,         “confidence”: 1.0,         “extractor”: “DucklingHTTPExtractor”     }] }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>要使用此组件，您需要运行一个小鸭服务器。最简单的选择是使用来启动docker容器 。<code>docker run -p 8000:8000 rasa/duckling</code><br>另外，您也可以<a target="_blank" rel="noopener" href="https://github.com/facebook/duckling#quickstart">直接在计算机上安装Duckling，</a>然后启动服务器。<br>小鸭可以识别日期，数字，距离和其他结构化实体并将其标准化。请注意，小鸭会尝试在不提供排名的情况下提取尽可能多的实体类型。例如，如果同时指定<code>number</code>和<code>time</code>作为小鸭组件的尺寸，该组件将提取两个实体：<code>10</code>作为数字和 作为时间从text中。在这种情况下，您的应用程序必须确定哪种实体类型是正确的。提取程序将始终返回1.0作为置信度，因为它是基于规则的系统。<code>in 10 minutes``I will be there in 10 minutes</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>配置小鸭组件应提取的尺寸，即实体类型。<a target="_blank" rel="noopener" href="https://duckling.wit.ai/">小鸭文档</a>中提供了可用尺寸的完整列表。不指定尺寸选项将提取所有可用尺寸。<br></td>
</tr>
</tbody></table>
<h3 id="DIETClassifier-1"><a href="#DIETClassifier-1" class="headerlink" title="DIETClassifier"></a>DIETClassifier</h3><table>
<thead>
<tr>
<th>Short</th>
<th>双意图实体分类器（DIET）用于意图分类和实体提取</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Description</strong></td>
<td>您可以在“组合实体提取器和意图分类器”部分下 找到<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#diet-classifier">DIETClassifier</a>的详细描述。</td>
</tr>
</tbody></table>
<h2 id="Selectors"><a href="#Selectors" class="headerlink" title="Selectors"></a>Selectors</h2><h3 id="ResponseSelector"><a href="#ResponseSelector" class="headerlink" title="ResponseSelector"></a>ResponseSelector</h3><table>
<thead>
<tr>
<th>Short</th>
<th>响应选择器</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>关键字为<code>direct_response_intent</code>和且包含<code>response</code>和的字典<code>ranking</code></td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><code>dense_features</code>和/或<code>sparse_features</code>用于用户消息和响应</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “response_selector”: {       “faq”: {         “response”: {“confidence”: 0.7356462617, “name”: “Supports 3.5, 3.6 and 3.7, recommended version is 3.6”},         “ranking”: [             {“confidence”: 0.7356462617, “name”: “Supports 3.5, 3.6 and 3.7, recommended version is 3.6”},             {“confidence”: 0.2134543431, “name”: “You can ask me about how to get started”}         ]       }     } }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>响应选择器组件可用于构建响应检索模型，以根据一组候选响应直接预测机器人响应。该模型的预测由<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/core/retrieval-actions/#retrieval-actions">检索动作使用</a>。它将用户输入和响应标签嵌入到同一空间，并遵循与<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#diet-classifier">DIETClassifier</a>完全相同的神经网络架构和优化。<br><strong>注意</strong><br>如果在预测时间内，一条消息<strong>仅</strong>包含训练中看不见的单词，并且未使用词汇量外预处理器，则可以有把握地<code>None</code>预测 一个空响应<code>0.0</code>。如果仅将<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#countvectorsfeaturizer">CountVectorsFeaturizer</a>与<code>word</code>分析仪一起用作特征化器，则可能会发生这种情况。如果使用<code>char_wb</code>分析仪，则应始终获得带有置信度值的响应。<code>&gt; 0.0</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>该算法几乎包括<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#diet-classifier">DIETClassifier</a>使用的所有超参数。如果要调整模型，请首先修改以下参数：<br><code>epochs</code>：此参数设置算法查看训练数据的次数（默认值：）<code>300</code>。一个<code>epoch</code>是等于一个直传和所有的训练例子之一向通行。有时，模型需要更多的时期才能正确学习。有时更多的时期不会影响性能。时期数越少，模型训练越快。<br><code>hidden_layers_sizes</code>：此参数允许您为用户消息和意图定义前馈层的数量及其输出尺寸（默认值：）。列表中的每个条目都对应一个前馈层。例如，如果设置，我们将在变压器前面添加两个前馈层。输入令牌的矢量（来自用户消息）将传递到这些层。第一层的输出尺寸为256，第二层的输出尺寸为128。如果使用空列表（默认行为），则不会添加前馈层。确保仅使用正整数。通常，使用2的幂数。同样，通常的做法是在列表中减小值：下一个值小于或等于前一个值。text: [256, 128], label: [256, 128]　text: [256, 128]<br><code>embedding_dimension</code>：此参数定义模型内部使用的嵌入层的输出尺寸（默认值：）<code>20</code>。我们在模型架构内部使用了多个嵌入层。例如，在比较<code>__CLS__</code>令牌和计算损失之前，将令牌的矢量和意图传递给嵌入层。<br><code>number_of_transformer_layers</code>：此参数设置要使用的变压器层数（默认值：）<code>0</code>。变压器层的数量与要用于模型的变压器块相对应<br><code>transformer_size</code>：此参数设置变压器中的单位数（默认值：）<code>None</code>。从变压器出来的矢量将具有给定值<code>transformer_size</code>。<br><code>weight_sparsity</code>：此参数定义了模型中所有前馈层的内核权重的分数，将其设置为0（默认值：）<code>0.8</code>。该值应在0到1之间。如果设置<code>weight_sparsity</code> 为0，则没有内核权重将设置为0，该层将充当标准前馈层。您不应将其设置<code>weight_sparsity</code>为1，因为这将导致所有内核权重均为0，即模型无法学习。<br>此外，该组件还可以配置为训练针对特定检索意图的响应选择器。参数<code>retrieval_intent</code>设置为此响应选择器模型训练的意图的名称。默认值为<code>None</code>，即模型针对所有检索意图进行了训练。</td>
</tr>
</tbody></table>
<h2 id="Combined-Entity-Extractors-and-Intent-Classifiers"><a href="#Combined-Entity-Extractors-and-Intent-Classifiers" class="headerlink" title="Combined Entity Extractors and Intent Classifiers"></a>Combined Entity Extractors and Intent Classifiers</h2><h3 id="DIETClassifier-2"><a href="#DIETClassifier-2" class="headerlink" title="DIETClassifier"></a>DIETClassifier</h3><table>
<thead>
<tr>
<th>Short</th>
<th>双意图实体分类器（DIET）用于意图分类和实体提取</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Outputs</strong></td>
<td>entities<code>，</code>intent<code>和</code>intent_ranking</td>
</tr>
<tr>
<td><strong>Requires</strong></td>
<td><code>dense_features</code>和/或<code>sparse_features</code>用于用户消息以及可选的意图</td>
</tr>
<tr>
<td><strong>Output-Example</strong></td>
<td>{     “intent”: {“name”: “greet”, “confidence”: 0.8343},     “intent_ranking”: [         {             “confidence”: 0.385910906220309,             “name”: “goodbye”         },         {             “confidence”: 0.28161531595656784,             “name”: “restaurant_search”         }     ],     “entities”: [{         “end”: 53,         “entity”: “time”,         “start”: 48,         “value”: “2017-04-10T00:00:00.000+02:00”,         “confidence”: 1.0,         “extractor”: “DIETClassifier”     }] }</td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>DIET（双重意图和实体转换器）是用于意图分类和实体识别的多任务体系结构。该架构基于两个任务共享的变压器。实体标签的序列是通过在与令牌的输入序列相对应的转换器输出序列之上的条件随机字段（CRF）标记层进行预测的。对于意图标签，<code>__CLS__</code>令牌和意图标签的转换器输出被嵌入到单个语义向量空间中。我们使用点积损失来最大化与目标标签的相似性，并最小化与阴性样品的相似性。<br>如果您想了解有关模型的更多信息，请观看我们的 <a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PL75e0qA87dlG-za8eLI6t0_Pbxafk-cxb">视频</a>，其中我们详细介绍了模型架构。<br><strong>注意</strong><br>如果在预测时间内，一条消息<strong>仅</strong>包含训练中看不见的单词，并且未使用词汇量外预处理器，则可以有把握地<code>None</code>预测 出一个空的意图<code>0.0</code>。如果仅将<a target="_blank" rel="noopener" href="https://legacy-docs-v1.rasa.com/nlu/components/#countvectorsfeaturizer">CountVectorsFeaturizer</a>与<code>word</code>分析仪一起用作特征化器，则可能会发生这种情况。如果使用<code>char_wb</code>分析仪，则应始终获得具有置信度值的意图。<code>&gt; 0.0</code></td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>如果要使用“<code>DIETClassifier</code>仅用于意图分类”，请设置<code>entity_recognition</code>为<code>False</code>。如果只想进行实体识别，请设置<code>intent_classification</code>为<code>False</code>。默认情况下<code>DIETClassifier</code>，两者都设置，即<code>entity_recognition</code>和<code>intent_classification</code>都设置为 <code>True</code>。<br>您可以定义许多超参数来适应模型。如果要调整模型，请首先修改以下参数：<br><code>epochs</code>：此参数设置算法查看训练数据的次数（默认值：）<code>300</code>。一个<code>epoch</code>是等于一个直传和所有的训练例子之一向通行。有时，模型需要更多的时期才能正确学习。有时更多的时期不会影响性能。时期数越少，模型训练越快。<br><code>hidden_layers_sizes</code>：此参数允许您为用户消息和意图定义前馈层的数量及其输出尺寸（默认值：）。列表中的每个条目都对应一个前馈层。例如，如果设置，我们将在变压器前面添加两个前馈层。输入令牌的矢量（来自用户消息）将传递到这些层。第一层的输出尺寸为256，第二层的输出尺寸为128。如果使用空列表（默认行为），则不会添加前馈层。确保仅使用正整数。通常，使用2的幂数。同样，通常的做法是在列表中减小值：下一个值小于或等于前一个值。text: [], label: []　text: [256, 128]<br><code>embedding_dimension</code>：此参数定义模型内部使用的嵌入层的输出尺寸（默认值：）<code>20</code>。我们在模型架构内部使用了多个嵌入层。例如，在比较<code>__CLS__</code>令牌和计算损失之前，将令牌的矢量和意图传递给嵌入层。<br><code>number_of_transformer_layers</code>：此参数设置要使用的变压器层数（默认值：）<code>2</code>。变压器层的数量与要用于模型的变压器块相对应。<br><code>transformer_size</code>：此参数设置变压器中的单位数（默认值：）<code>256</code>。从变压器出来的矢量将具有给定值<code>transformer_size</code>。<br><code>weight_sparsity</code>：此参数定义了模型中所有前馈层的内核权重的分数，将其设置为0（默认值：）<code>0.8</code>。该值应在0到1之间。如果设置<code>weight_sparsity</code> 为0，则没有内核权重将设置为0，该层将充当标准前馈层。您不应将其设置．<code>weight_sparsity</code>为1，因为这将导致所有内核权重均为0，即模型无法学习。<br>上面的配置参数是您应该配置的参数，以使模型适合数据。但是，存在可以调整的其他参数</td>
</tr>
</tbody></table>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">daiyizheng</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com/2020/10/04/rasa-wen-dang-zhi-nan-12/">http://yoursite.com/2020/10/04/rasa-wen-dang-zhi-nan-12/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">daiyizheng</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Rasa/">
                                    <span class="chip bg-color">Rasa</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: '4UATY1Wl6PiOAJtLDeI11JPG-9Nh9j0Va',
        appKey: 'm8JJMe4Ok7crFRmTthEbo48R',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2020/10/04/rasa-wen-dang-zhi-nan-12/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/23.jpg" class="responsive-img" alt="Rasa文档指南(12)">
                        
                        <span class="card-title">Rasa文档指南(12)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            NLU-组件
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-10-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/nlp/" class="post-category">
                                    nlp
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Rasa/">
                        <span class="chip bg-color">Rasa</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/10/04/rasa-wen-dang-zhi-nan-11/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="Rasa文档指南(11)">
                        
                        <span class="card-title">Rasa文档指南(11)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            NLU
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-10-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/nlp/" class="post-category">
                                    nlp
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Rasa/">
                        <span class="chip bg-color">Rasa</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="song"
                   id="1297742167"
                   fixed='true'
                   autoplay='true'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">daiyizheng</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1181062873@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1181062873" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
